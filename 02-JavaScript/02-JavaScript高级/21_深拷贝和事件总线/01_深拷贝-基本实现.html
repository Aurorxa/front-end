<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Title</title>
</head>
<body>

  <script>
    const obj = {
      name: "呵呵哒",
      age: 18,
      friends: {
        name: "小明",
        age: 18,
        address: {
          name: "北京",
          detail: '朝阳区'
        }
      }
    }

    /**
     * 判断一个标识符是否是一个对象
     * @param value
     * @returns {boolean}
     */
    function isObject(value) {
      return value !== null
          && (typeof value === 'object' || typeof value === 'function')
    }

    function deepCopy(origin) {
      // 如果是基本数据类型，直接返回
      if (!isObject(origin)) {
        return origin
      }
      // 如果是引用数据类型
      const newObj = {}
      Object.keys(origin).forEach(key => {
        newObj[key] = deepCopy(origin[key])
      })
      return newObj
    }

    const newObj = deepCopy(obj)
    newObj.name = "许大仙"
    newObj.friends.address = "上海"
    console.log(obj)

  </script>

</body>
</html>